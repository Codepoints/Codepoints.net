<?xml version="1.0"?>
<psalm
    errorLevel="3"
    resolveFromConfigFile="true"
    checkForThrowsInGlobalScope="true"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="https://getpsalm.org/schema/config"
    xsi:schemaLocation="https://getpsalm.org/schema/config vendor/vimeo/psalm/config.xsd"
>
  <projectFiles>
    <directory name="codepoints.net" />
    <ignoreFiles>
      <directory name="codepoints.net/vendor" />
    </ignoreFiles>
  </projectFiles>

  <stubs>
    <!-- we need this for psalm to see the UNICODE_VERSION constant -->
    <file name="codepoints.net/init.php" />
    <file name="codepoints.net/index.php" />
  </stubs>

  <issueHandlers>
    <MoreSpecificImplementedParamType errorLevel="suppress" />
    <UndefinedGlobalVariable>
      <errorLevel type="suppress">
        <!-- We cannot define them with @var here, because psalm will confuse
        them with other definitions, e.g., in ../plane.php. -->
        <file name="codepoints.net/views/partials/head-codepoint.php" />
      </errorLevel>
    </UndefinedGlobalVariable>
    <RedundantConditionGivenDocblockType>
      <errorLevel type="suppress">
        <!-- same -->
        <file name="codepoints.net/views/partials/head-codepoint.php" />
      </errorLevel>
    </RedundantConditionGivenDocblockType>
  </issueHandlers>
</psalm>
